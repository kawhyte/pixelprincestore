<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cloudinary Test</title>
  <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
</head>
<body>
  <h1>Cloudinary Upload Widget Test</h1>
  <button id="upload_widget" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">
    Test Upload Widget
  </button>

  <div id="result" style="margin-top: 20px;"></div>

  <script type="text/javascript">
    // REPLACE THESE WITH YOUR ACTUAL VALUES
    const CLOUD_NAME = 'your_cloud_name_here';
    const UPLOAD_PRESET = 'your_upload_preset_here';

    document.getElementById("upload_widget").addEventListener("click", function() {
      cloudinary.openUploadWidget({
        cloudName: CLOUD_NAME,
        uploadPreset: UPLOAD_PRESET,
        sources: ['local', 'url'],
        multiple: false,
        maxFileSize: 10485760, // 10MB
      },
      (error, result) => {
        if (!error && result && result.event === "success") {
          console.log('Upload successful!', result.info);
          document.getElementById('result').innerHTML = `
            <h3 style="color: green;">✅ Upload Successful!</h3>
            <p><strong>File:</strong> ${result.info.original_filename}</p>
            <p><strong>URL:</strong> <a href="${result.info.secure_url}" target="_blank">${result.info.secure_url}</a></p>
            <p><strong>Size:</strong> ${(result.info.bytes / 1024 / 1024).toFixed(2)} MB</p>
          `;
        } else if (error) {
          console.error('Upload error:', error);
          document.getElementById('result').innerHTML = `
            <h3 style="color: red;">❌ Upload Error</h3>
            <p>${error.message || 'Unknown error'}</p>
          `;
        }
      });
    }, false);
  </script>

  <div style="margin-top: 40px; padding: 20px; background: #f0f0f0; border-radius: 8px;">
    <h3>Instructions:</h3>
    <ol>
      <li>Open this HTML file in your browser</li>
      <li>Replace CLOUD_NAME and UPLOAD_PRESET with your actual values in the script</li>
      <li>Click the "Test Upload Widget" button</li>
      <li>Try uploading a small image (< 10MB)</li>
      <li>If successful, you'll see the uploaded file URL</li>
    </ol>
  </div>
</body>
</html>
